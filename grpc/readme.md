## GRPC

### 简介

**gRPC是一种高性能、开源的远程过程调用（RPC）框架**，提供了一种简单的方法来定义和调用能够运行在不同语言和平台上的分布式应用程序之间的服务。

### 特点

1. 基于标准的HTTP/2协议，支持双向流传输和多路复用。
2. 使用Protocol Buffers作为默认的消息序列化和反序列化机制，提供了高效的数据传输和解析。
3. 支持多种编程语言，包括C++, Java, Python, Go, Ruby, Node.js等等。
4. 支持多种操作系统和平台，包括Windows、Linux、macOS、Android和iOS等等。
5. 提供多种负载均衡和服务发现机制，包括DNS、gRPC自带的服务发现和第三方服务发现工具等。
6. 提供多种安全机制，包括基于TLS的加密传输、认证和授权等。

### 与restful api对比

1. 传输协议：gRPC使用HTTP/2作为底层传输协议，而RESTful API通常使用HTTP/1.1或HTTP/2。相对于HTTP/1.1，HTTP/2具有更高的性能和效率，并支持双向流传输和多路复用，从而能够更有效地处理大量的请求和响应。
2. 序列化和反序列化：gRPC使用Protocol Buffers作为默认的消息序列化和反序列化机制，而RESTful API通常使用JSON或XML等文本格式。相对于文本格式，Protocol Buffers具有更高的效率和可读性，并且能够更好地支持多语言和版本控制。
3. 性能和效率：**gRPC具有更高的性能和效率**，可以更快地处理请求和响应，并且能够更轻松地处理大量的并发请求。RESTful API的性能和效率受到HTTP协议和序列化机制的限制，并且需要更多的资源来处理大量的请求。
4. 跨语言支持：gRPC支持多种编程语言，包括C++, Java, Python, Go, Ruby, Node.js等等。RESTful API也可以支持多种编程语言，但需要使用通用的文本格式和协议，并且需要编写大量的转换代码来处理不同语言之间的差异。
5. 可读性和易用性：RESTful API具有更好的可读性和易用性，可以使用通用的HTTP协议和文本格式进行交互。gRPC需要使用特定的协议和序列化机制，并且需要一定的学习曲线和开发工具支持。

总的来说，gRPC主要用于公司 **内部的服务调用** ，性能消耗低，传输效率高，服务治理方便。Restful **主要用于对外** ，比如提供接口给前端调用，提供外部服务给其他人调用等

### demo说明

代码基于官方示例，流程：

1.安装依赖：pip install grpcio grpcio-tools

2.编写proto，并编译出包含消息、服务类的python文件

3.编写server端，继承并实现服务类约定的方法；编写client端，调用stub中的方法
